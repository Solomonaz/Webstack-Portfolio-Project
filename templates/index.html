{% extends 'base.html' %}

{% block title %}Dashboard {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}


<div class="container-fluid mt-3">
  <div class="card">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
        <div class="order-1">
          <h5 class="font-size-16 me-3 mb-0">Dashboard</h5>
        </div>
        <div class="order-2">
          {% if total_count == 0 %}
          No Files Found
          {% elif total_count == 1 %}
          1 Total File Found
          {% else %}
          {{ total_count }} Total Files Found
          {% endif %}
        </div>
      </div>
      <div class="row mt-4">
        <div class="container-fluid mt-3">
          <div class="row">

            <div class="col-xl-3 col-md-6">
              <a href="#" class="text-decoration-none">
                <div class="card bg-primary text-white">
                  <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                      <i class="fas fa-file-pdf fa-3x"></i>
                      <div class="text-right">
                        <h5 class="card-title">PDF Files 
                          <i class="fas fa-external-link-alt"></i>
                        </h5>
                        <p class="card-text">{{ pdf_count }} Files</p>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            </div>
            <div class="col-xl-3 col-md-6">
              <a href="#" class="text-decoration-none">
              <div class="card bg-success text-white">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <i class="fas fa-file-excel fa-3x"></i>
                    <div class="text-right">
                      <h5 class="card-title">Excel Files
                        <i class="fas fa-external-link-alt"></i>
                      </h5>
                      <p class="card-text">{{ excel_count }} Files</p>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            </div>

            <div class="col-xl-3 col-md-6">
              <a href="#" class="text-decoration-none">
              <div class="card bg-info text-white">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <i class="fas fa-file-audio fa-3x"></i>
                    <div class="text-right">
                      <h5 class="card-title">Audio Files
                        <i class="fas fa-external-link-alt"></i>
                      </h5>
                      <p class="card-text">{{ audio_count }} Files</p>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            </div>

            <div class="col-xl-3 col-md-6">
              <a href="#" class="text-decoration-none">
              <div class="card bg-warning text-dark">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <i class="fas fa-video fa-3x"></i>
                    <div class="text-right">
                      <h5 class="card-title">Video Files
                        <i class="fas fa-external-link-alt"></i>
                      </h5>
                      <p class="card-text">{{ video_count }} Files</p>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            </div>

            <div class="col-xl-3 col-md-6">
              <a href="#" class="text-decoration-none">
              <div class="card bg-danger text-white">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <i class="fas fa-image fa-3x"></i>
                    <div class="text-right">
                      <h5 class="card-title">Images
                        <i class="fas fa-external-link-alt"></i>
                      </h5>
                      <p class="card-text">{{ image_count }} Files</p>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            </div>

            <div class="col-xl-3 col-md-6">
              <a href="#" class="text-decoration-none">
              <div class="card bg-info text-white">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <i class="fas fa-file-word fa-3x"></i>
                    <div class="text-right">
                      <h5 class="card-title">Words
                        <i class="fas fa-external-link-alt"></i>
                      </h5>
                      <p class="card-text">{{ word_count }} File</p>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>
</div>
<div class="container-fluid">
  <canvas id="fileFormatChart" width="400" height="400"></canvas>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
      const ctx = document.getElementById('fileFormatChart').getContext('2d');
      const data = {
          labels: ['PDF', 'Excel', 'Audio', 'Video'],
          datasets: [{
            data: [30, 20, 15, 10, 25],
              backgroundColor: [
                  'rgba(255, 99, 132, 0.7)',
                  'rgba(54, 162, 235, 0.7)',
                  'rgba(255, 206, 86, 0.7)',
                  'rgba(75, 192, 192, 0.7)',
                  'rgba(153, 102, 255, 0.7)',
              ],
          }],
      };

      new Chart(ctx, {
          type: 'pie',
          data: data,
          options: {
              responsive: true,
              maintainAspectRatio: false,
          },
      });
  });
</script>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>

<!-- <script src="/static/assets/vendor/chart.js/dist/Chart.min.js"></script>
<script src="/static/assets/vendor/chart.js/dist/Chart.extension.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->

<!-- Add these script tags to your HTML file -->



{% endblock javascripts %}